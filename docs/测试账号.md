# Reddit Signal Scanner - æµ‹è¯•è´¦å·

**ç”¨é€”**: æœ¬åœ°å¼€å‘ã€éªŒæ”¶æµ‹è¯•ã€æ¼”ç¤ºå±•ç¤º

---

## ğŸ“‹ æµ‹è¯•è´¦å·åˆ—è¡¨

| é‚®ç®± | å¯†ç  | è§’è‰² | è¯´æ˜ |
|------|------|------|------|
| `admin@test.com` | `Admin123!` | ç®¡ç†å‘˜ | æ‹¥æœ‰ç®¡ç†å‘˜æƒé™ï¼Œå¯ä»¥è®¿é—®æ‰€æœ‰åŠŸèƒ½ |
| `user1@test.com` | `User123!` | æ™®é€šç”¨æˆ· | æ™®é€šç”¨æˆ·è´¦å· #1 |
| `user2@test.com` | `User123!` | æ™®é€šç”¨æˆ· | æ™®é€šç”¨æˆ·è´¦å· #2 |
| `demo@test.com` | `Demo123!` | æ¼”ç¤ºè´¦å· | ç”¨äºæ¼”ç¤ºå±•ç¤º |
| `test@test.com` | `Test123!` | æµ‹è¯•è´¦å· | ç”¨äºè‡ªåŠ¨åŒ–æµ‹è¯• |

---

## ğŸ” è´¦å·ç‰¹æ€§

### ç®¡ç†å‘˜è´¦å· (`admin@test.com`)

- **æƒé™**: å®Œæ•´çš„ç®¡ç†å‘˜æƒé™
- **åŠŸèƒ½**:
  - è®¿é—® Admin åå° (`/admin`)
  - ç®¡ç†ç¤¾åŒºæ±  (Community Pool)
  - æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·çš„ä»»åŠ¡å’ŒæŠ¥å‘Š
  - å®¡æ ¸å¾…å¤„ç†ç¤¾åŒº (Pending Communities)
  - æŸ¥çœ‹ç³»ç»Ÿç»Ÿè®¡æ•°æ®
- **ç™½åå•**: å·²æ·»åŠ åˆ° `ADMIN_EMAILS` ç¯å¢ƒå˜é‡

### æ™®é€šç”¨æˆ·è´¦å· (`user1@test.com`, `user2@test.com`)

- **æƒé™**: æ ‡å‡†ç”¨æˆ·æƒé™
- **åŠŸèƒ½**:
  - åˆ›å»ºåˆ†æä»»åŠ¡
  - æŸ¥çœ‹è‡ªå·±çš„ä»»åŠ¡å’ŒæŠ¥å‘Š
  - æäº¤ Beta åé¦ˆ
  - ä¸ŠæŠ¥ç¼ºå¤±ç¤¾åŒº

### æ¼”ç¤ºè´¦å· (`demo@test.com`)

- **ç”¨é€”**: ç”¨äºæ¼”ç¤ºå’Œå±•ç¤º
- **å»ºè®®**: åœ¨æ¼”ç¤ºå‰é¢„å…ˆåˆ›å»ºä¸€äº›ç¤ºä¾‹ä»»åŠ¡å’ŒæŠ¥å‘Š

### æµ‹è¯•è´¦å· (`test@test.com`)

- **ç”¨é€”**: ç”¨äºè‡ªåŠ¨åŒ–æµ‹è¯•å’Œé›†æˆæµ‹è¯•
- **å»ºè®®**: ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨

---

## ğŸš€ åˆ›å»ºæµ‹è¯•è´¦å·

### æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰

å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»ºæ‰€æœ‰æµ‹è¯•è´¦å·ï¼š

```bash
./scripts/start-local.sh
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨åˆ›å»º

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# åŠ è½½ç¯å¢ƒå˜é‡
export $(cat .env | grep -v '^#' | xargs)

# åˆ›å»ºæµ‹è¯•è´¦å·
python scripts/seed_test_accounts.py
```

### æ–¹å¼ä¸‰ï¼šé‡ç½®å¯†ç 

å¦‚æœå¿˜è®°å¯†ç æˆ–éœ€è¦é‡ç½®ï¼š

```bash
cd backend
export $(cat .env | grep -v '^#' | xargs)
python scripts/seed_test_accounts.py --reset
```

---

## ğŸ§ª æµ‹è¯•ç™»å½•

### ä½¿ç”¨ API æ–‡æ¡£æµ‹è¯•

1. æ‰“å¼€ API æ–‡æ¡£: http://localhost:8006/docs
2. æ‰¾åˆ° `POST /api/auth/login` ç«¯ç‚¹
3. ç‚¹å‡» "Try it out"
4. è¾“å…¥æµ‹è¯•è´¦å·ä¿¡æ¯ï¼š
   ```json
   {
     "email": "admin@test.com",
     "password": "Admin123!"
   }
   ```
5. ç‚¹å‡» "Execute"
6. å¤åˆ¶è¿”å›çš„ `access_token`

### ä½¿ç”¨ curl æµ‹è¯•

```bash
# ç™»å½•è·å– token
curl -X POST "http://localhost:8006/api/auth/login" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@test.com",
    "password": "Admin123!"
  }'

# æœŸæœ›è¿”å›ï¼š
# {
#   "access_token": "eyJ...",
#   "token_type": "bearer",
#   "user": {
#     "id": "11111111-1111-1111-1111-111111111111",
#     "email": "admin@test.com"
#   }
# }
```

### ä½¿ç”¨å‰ç«¯æµ‹è¯•

1. æ‰“å¼€å‰ç«¯é¦–é¡µ: http://localhost:3006/
2. ç‚¹å‡»ç™»å½•æŒ‰é’®
3. è¾“å…¥æµ‹è¯•è´¦å·ä¿¡æ¯
4. ç‚¹å‡»ç™»å½•

---

## ğŸ” éªŒè¯è´¦å·æƒé™

### éªŒè¯ç®¡ç†å‘˜æƒé™

```bash
# ç™»å½•è·å– token
TOKEN=$(curl -s -X POST "http://localhost:8006/api/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@test.com","password":"Admin123!"}' \
  | jq -r '.access_token')

# è®¿é—®ç®¡ç†å‘˜ç«¯ç‚¹
curl -X GET "http://localhost:8006/api/admin/community-pool" \
  -H "Authorization: Bearer $TOKEN"

# æœŸæœ›è¿”å›ï¼šç¤¾åŒºæ± åˆ—è¡¨ï¼ˆ200 OKï¼‰
```

### éªŒè¯æ™®é€šç”¨æˆ·æƒé™

```bash
# ç™»å½•è·å– token
TOKEN=$(curl -s -X POST "http://localhost:8006/api/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"email":"user1@test.com","password":"User123!"}' \
  | jq -r '.access_token')

# å°è¯•è®¿é—®ç®¡ç†å‘˜ç«¯ç‚¹
curl -X GET "http://localhost:8006/api/admin/community-pool" \
  -H "Authorization: Bearer $TOKEN"

# æœŸæœ›è¿”å›ï¼š403 Forbidden
```

---

## ğŸ“Š æŸ¥çœ‹è´¦å·ä¿¡æ¯

### ä½¿ç”¨æ•°æ®åº“æŸ¥è¯¢

```bash
# è¿æ¥åˆ°æ•°æ®åº“
psql -d reddit_scanner

# æŸ¥çœ‹æ‰€æœ‰æµ‹è¯•è´¦å·
SELECT id, email, is_active, created_at 
FROM users 
WHERE email LIKE '%@test.com' 
ORDER BY email;

# æœŸæœ›è¾“å‡ºï¼š
#                   id                  |      email       | is_active |         created_at         
# --------------------------------------+------------------+-----------+----------------------------
#  11111111-1111-1111-1111-111111111111 | admin@test.com   | t         | 2025-10-16 14:45:00.123456
#  44444444-4444-4444-4444-444444444444 | demo@test.com    | t         | 2025-10-16 14:45:00.234567
#  55555555-5555-5555-5555-555555555555 | test@test.com    | t         | 2025-10-16 14:45:00.345678
#  22222222-2222-2222-2222-222222222222 | user1@test.com   | t         | 2025-10-16 14:45:00.456789
#  33333333-3333-3333-3333-333333333333 | user2@test.com   | t         | 2025-10-16 14:45:00.567890
```

---

## ğŸ›¡ï¸ å®‰å…¨æ³¨æ„äº‹é¡¹

### æœ¬åœ°å¼€å‘ç¯å¢ƒ

- âœ… å¯ä»¥ä½¿ç”¨è¿™äº›æµ‹è¯•è´¦å·
- âœ… å¯†ç ç®€å•æ˜“è®°ï¼Œæ–¹ä¾¿å¼€å‘

### ç”Ÿäº§ç¯å¢ƒ

- âŒ **ç»å¯¹ä¸è¦**ä½¿ç”¨è¿™äº›æµ‹è¯•è´¦å·
- âŒ **ç»å¯¹ä¸è¦**ä½¿ç”¨è¿™äº›ç®€å•å¯†ç 
- âœ… ä½¿ç”¨å¼ºå¯†ç å’ŒçœŸå®é‚®ç®±
- âœ… å¯ç”¨åŒå› ç´ è®¤è¯ï¼ˆå¦‚æœæ”¯æŒï¼‰

---

## ğŸ”„ é‡ç½®æµ‹è¯•æ•°æ®

å¦‚æœéœ€è¦æ¸…ç©ºæ‰€æœ‰æµ‹è¯•æ•°æ®å¹¶é‡æ–°å¼€å§‹ï¼š

```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
./scripts/stop-local.sh

# é‡ç½®æ•°æ®åº“
cd backend
export $(cat .env | grep -v '^#' | xargs)
alembic downgrade base
alembic upgrade head

# é‡æ–°åˆ›å»ºæµ‹è¯•è´¦å·
python scripts/seed_test_accounts.py

# é‡æ–°å¯åŠ¨æœåŠ¡
cd ..
./scripts/start-local.sh
```

---

## ğŸ“ å¸¸è§é—®é¢˜

### Q: ç™»å½•æ—¶æç¤º "Invalid credentials"

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. é‚®ç®±å’Œå¯†ç æ˜¯å¦æ­£ç¡®ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
2. æµ‹è¯•è´¦å·æ˜¯å¦å·²åˆ›å»ºï¼ˆè¿è¡Œ `python scripts/seed_test_accounts.py`ï¼‰
3. æ•°æ®åº“æ˜¯å¦æ­£å¸¸è¿è¡Œï¼ˆ`pg_isready`ï¼‰

### Q: å¦‚ä½•æ·»åŠ æ–°çš„æµ‹è¯•è´¦å·ï¼Ÿ

**A**: ç¼–è¾‘ `backend/scripts/seed_test_accounts.py`ï¼Œåœ¨ `TEST_ACCOUNTS` åˆ—è¡¨ä¸­æ·»åŠ æ–°è´¦å·ï¼Œç„¶åè¿è¡Œè„šæœ¬ã€‚

### Q: å¦‚ä½•ä¿®æ”¹æµ‹è¯•è´¦å·çš„å¯†ç ï¼Ÿ

**A**: 
1. ç¼–è¾‘ `backend/scripts/seed_test_accounts.py`ï¼Œä¿®æ”¹å¯¹åº”è´¦å·çš„å¯†ç 
2. è¿è¡Œ `python scripts/seed_test_accounts.py --reset`

### Q: ç®¡ç†å‘˜è´¦å·æ²¡æœ‰ç®¡ç†å‘˜æƒé™ï¼Ÿ

**A**: æ£€æŸ¥ `backend/.env` æ–‡ä»¶ä¸­çš„ `ADMIN_EMAILS` æ˜¯å¦åŒ…å« `admin@test.com`ï¼š
```bash
cat backend/.env | grep ADMIN_EMAILS
# åº”è¯¥è¾“å‡º: ADMIN_EMAILS=prd-test@example.com,admin@test.com
```

---

## ğŸ¯ å¿«é€Ÿå‚è€ƒ

**æœ€å¸¸ç”¨çš„æµ‹è¯•è´¦å·**:
- ç®¡ç†å‘˜: `admin@test.com` / `Admin123!`
- æ™®é€šç”¨æˆ·: `user1@test.com` / `User123!`

**åˆ›å»ºè´¦å·**: `python backend/scripts/seed_test_accounts.py`

**é‡ç½®å¯†ç **: `python backend/scripts/seed_test_accounts.py --reset`

**ç™»å½•æµ‹è¯•**: http://localhost:8006/docs â†’ `POST /api/auth/login`

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿç°åœ¨å°±ç”¨è¿™äº›æµ‹è¯•è´¦å·ç™»å½•éªŒæ”¶å§ï¼** ğŸš€

