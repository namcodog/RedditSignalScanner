# Phase 3 æ‰§è¡Œè®¡åˆ’ï¼šè¯„æµ‹ä¸ä¼˜åŒ–

**ç”Ÿæˆæ—¶é—´**: 2025-10-20  
**çŠ¶æ€**: è§„åˆ’å®Œæˆï¼Œå¾…æ‰§è¡Œ  
**é¢„ä¼°æ€»æ—¶é—´**: 18-20 å°æ—¶  
**ä¾èµ–**: Phase 1 (T1.1-T1.8) å’Œ Phase 2 (T2.1-T2.10) å·²å®Œæˆ

---

## ğŸ“‹ æ€»è§ˆ

Phase 3 åŒ…å« **6 ä¸ªä¸»ä»»åŠ¡** å’Œ **49 ä¸ªå­ä»»åŠ¡**ï¼Œæ¶µç›–ï¼š

1. **T3.1**: æŠ½æ ·æ ‡æ³¨æ•°æ®é›†ï¼ˆ500 æ¡ï¼Œäººå·¥æ ‡æ³¨ï¼‰
2. **T3.2**: é˜ˆå€¼ç½‘æ ¼æœç´¢ï¼ˆPrecision@50 â‰¥0.6ï¼‰
3. **T3.3**: æ¯æ—¥è·‘åˆ†è„šæœ¬ï¼ˆè‡ªåŠ¨åŒ–æŒ‡æ ‡æ”¶é›†ï¼‰
4. **T3.4**: çº¢çº¿æ£€æŸ¥é€»è¾‘ï¼ˆ4 æ¡çº¢çº¿ï¼Œè‡ªåŠ¨é™çº§ï¼‰
5. **T3.5**: æ”¹é€ æŠ¥å‘Šæ¨¡ç‰ˆï¼ˆè¡ŒåŠ¨ä½ï¼‰
6. **T3.6**: é›†æˆè¡ŒåŠ¨ä½åˆ° APIï¼ˆå‰åç«¯é›†æˆï¼‰

---

## ğŸ¯ ä»»åŠ¡è¯¦æƒ…

### T3.1: æŠ½æ ·æ ‡æ³¨æ•°æ®é›†

**ç›®æ ‡**: ä»å†·åº“æŠ½æ · 500 æ¡å¸–å­è¿›è¡Œäººå·¥æ ‡æ³¨  
**é¢„ä¼°æ—¶é—´**: 4 å°æ—¶ï¼ˆä»£ç  1h + äººå·¥æ ‡æ³¨ 3hï¼‰  
**ä¾èµ–**: T2.10ï¼ˆå»é‡é›†æˆï¼‰  
**ä¼˜å…ˆçº§**: P0ï¼ˆé˜»å¡ T3.2ï¼‰

#### å­ä»»åŠ¡

| ä»»åŠ¡ | æè¿° | é¢„ä¼°æ—¶é—´ | ä¾èµ– | å¯å¹¶è¡Œ |
|------|------|----------|------|--------|
| T3.1.1 | å®ç°æŠ½æ ·å‡½æ•° `sample_posts_for_labeling` | 20min | - | âœ… |
| T3.1.2 | åˆ›å»ºæ ‡æ³¨ CSV æ¨¡æ¿ | 10min | - | âœ… |
| T3.1.3 | å®ç° CSV å¯¼å‡ºå‡½æ•° `export_samples_to_csv` | 15min | T3.1.1, T3.1.2 | âŒ |
| T3.1.4 | åˆ›å»ºæ ‡æ³¨éªŒè¯å‡½æ•° `validate_labels` | 15min | T3.1.2 | âœ… |
| T3.1.5 | **ç”¨æˆ·æ ‡æ³¨ï¼ˆäººå·¥ä»»åŠ¡ï¼‰** | 3h | T3.1.3 | âŒ |
| T3.1.6 | åŠ è½½æ ‡æ³¨æ•°æ®å‡½æ•° `load_labeled_data` | 10min | T3.1.2 | âœ… |
| T3.1.7 | æµ‹è¯•æ ‡æ³¨æµç¨‹ | 10min | T3.1.1-T3.1.6 | âŒ |

#### å®ç°è¦ç‚¹

1. **æŠ½æ ·ç­–ç•¥**ï¼ˆT3.1.1ï¼‰ï¼š
   - ä» `posts_raw` è¡¨éšæœºæŠ½æ · 500 æ¡ï¼ˆæœ€è¿‘ 30 å¤©ï¼‰
   - ç¡®ä¿å¤šæ ·æ€§ï¼š
     - ä¸åŒç¤¾åŒºï¼ˆè‡³å°‘ 20 ä¸ªç¤¾åŒºï¼‰
     - ä¸åŒåˆ†æ•°åŒºé—´ï¼ˆ0-10, 10-50, 50-100, 100+ï¼‰
   - ä½¿ç”¨ SQL `ORDER BY RANDOM()` æˆ– Python `random.sample()`

2. **CSV æ ¼å¼**ï¼ˆT3.1.2ï¼‰ï¼š
   ```csv
   post_id,title,body,subreddit,score,label,strength,notes
   abc123,"Need a CRM","Looking for...",startups,45,opportunity,strong,""
   ```
   - `label`: `opportunity` / `non-opportunity`
   - `strength`: `strong` / `medium` / `weak`

3. **éªŒè¯é€»è¾‘**ï¼ˆT3.1.4ï¼‰ï¼š
   - æ£€æŸ¥ 500 æ¡å…¨éƒ¨æ ‡æ³¨
   - æ£€æŸ¥ `label` å’Œ `strength` å­—æ®µæœ‰æ•ˆæ€§
   - æ£€æŸ¥æ— ç©ºå€¼ï¼ˆé™¤ `notes`ï¼‰

#### éªŒæ”¶æ ‡å‡†

- âœ… 500 æ¡æ ·æœ¬å·²æŠ½æ ·å¹¶å¯¼å‡ºåˆ° `data/labeled_samples_template.csv`
- âœ… ç”¨æˆ·å®Œæˆæ ‡æ³¨ï¼Œä¿å­˜åˆ° `data/labeled_samples.csv`
- âœ… éªŒè¯å‡½æ•°é€šè¿‡ï¼Œæ— é”™è¯¯

---

### T3.2: å®ç°é˜ˆå€¼ç½‘æ ¼æœç´¢

**ç›®æ ‡**: ç½‘æ ¼æœç´¢æœ€ä¼˜é˜ˆå€¼ï¼ˆPrecision@50 â‰¥0.6ï¼‰  
**é¢„ä¼°æ—¶é—´**: 2 å°æ—¶  
**ä¾èµ–**: T3.1ï¼ˆæ ‡æ³¨æ•°æ®é›†ï¼‰  
**ä¼˜å…ˆçº§**: P0ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

#### å­ä»»åŠ¡

| ä»»åŠ¡ | æè¿° | é¢„ä¼°æ—¶é—´ | ä¾èµ– | å¯å¹¶è¡Œ |
|------|------|----------|------|--------|
| T3.2.1 | å®ç°è¯„åˆ†å‡½æ•° `score_posts` | 15min | T3.1 | âŒ |
| T3.2.2 | å®ç° Precision@K è®¡ç®— | 20min | T3.2.1 | âŒ |
| T3.2.3 | å®ç° F1 Score è®¡ç®— | 20min | T3.2.1 | âœ… |
| T3.2.4 | å®ç°ç½‘æ ¼æœç´¢å‡½æ•° `grid_search_threshold` | 30min | T3.2.2, T3.2.3 | âŒ |
| T3.2.5 | é€‰æ‹©æœ€ä¼˜é˜ˆå€¼ | 10min | T3.2.4 | âŒ |
| T3.2.6 | æ›´æ–°é…ç½®æ–‡ä»¶ | 10min | T3.2.5 | âŒ |
| T3.2.7 | æµ‹è¯•é˜ˆå€¼ä¼˜åŒ– | 15min | T3.2.6 | âŒ |

#### å®ç°è¦ç‚¹

1. **è¯„åˆ†å‡½æ•°**ï¼ˆT3.2.1ï¼‰ï¼š
   ```python
   def score_posts(labeled_df: pd.DataFrame) -> pd.DataFrame:
       """å¯¹æ ‡æ³¨æ•°æ®é›†ä¸­çš„æ¯æ¡å¸–å­è®¡ç®— OpportunityScorer åˆ†æ•°"""
       scorer = OpportunityScorer()
       labeled_df['predicted_score'] = labeled_df.apply(
           lambda row: scorer.score(f"{row['title']} {row['body']}").base_score,
           axis=1
       )
       return labeled_df
   ```

2. **Precision@K è®¡ç®—**ï¼ˆT3.2.2ï¼‰ï¼š
   ```python
   def calculate_precision_at_k(df: pd.DataFrame, threshold: float, k: int = 50) -> float:
       """ç»™å®šé˜ˆå€¼ï¼Œè®¡ç®— Top-K çš„ç²¾å‡†ç‡"""
       df_sorted = df.sort_values('predicted_score', ascending=False).head(k)
       true_positives = (df_sorted['label'] == 'opportunity').sum()
       return true_positives / k
   ```

3. **ç½‘æ ¼æœç´¢**ï¼ˆT3.2.4ï¼‰ï¼š
   - é˜ˆå€¼èŒƒå›´ï¼š`np.arange(0.3, 0.95, 0.05)`
   - è®°å½•æ¯ä¸ªé˜ˆå€¼çš„ Precision@50 å’Œ F1
   - è¾“å‡ºç»“æœåˆ° `reports/threshold_optimization.csv`

4. **æœ€ä½³å®è·µ**ï¼ˆæ¥è‡ª exa-codeï¼‰ï¼š
   - ä½¿ç”¨ sklearn çš„ `TunedThresholdClassifierCV`ï¼ˆå¯é€‰ï¼‰
   - ä¼˜å…ˆ Precision@50 â‰¥0.6ï¼Œå…¶æ¬¡æœ€å¤§åŒ– F1

#### éªŒæ”¶æ ‡å‡†

- âœ… æœ€ä¼˜é˜ˆå€¼ Precision@50 â‰¥0.6
- âœ… é…ç½®æ–‡ä»¶å·²æ›´æ–°ï¼ˆ`config/thresholds.yaml`ï¼‰
- âœ… ç½‘æ ¼æœç´¢ç»“æœä¿å­˜åˆ° `reports/threshold_optimization.csv`

---

### T3.3: åˆ›å»ºæ¯æ—¥è·‘åˆ†è„šæœ¬

**ç›®æ ‡**: ç”Ÿæˆæ¯æ—¥æŒ‡æ ‡æŠ¥å‘Šï¼ˆè‡ªåŠ¨åŒ–ï¼‰  
**é¢„ä¼°æ—¶é—´**: 3 å°æ—¶  
**ä¾èµ–**: T1.4ï¼ˆåŸ‹ç‚¹åŠŸèƒ½ï¼‰  
**ä¼˜å…ˆçº§**: P1ï¼ˆç›‘æ§åŸºç¡€è®¾æ–½ï¼‰

#### å­ä»»åŠ¡

| ä»»åŠ¡ | æè¿° | é¢„ä¼°æ—¶é—´ | ä¾èµ– | å¯å¹¶è¡Œ |
|------|------|----------|------|--------|
| T3.3.1 | åˆ›å»ºæ¯æ—¥æŒ‡æ ‡æ¨¡å‹ `DailyMetrics` | 15min | - | âœ… |
| T3.3.2 | å®ç°æŒ‡æ ‡æ”¶é›†å‡½æ•° `collect_daily_metrics` | 30min | T3.3.1 | âŒ |
| T3.3.3 | å®ç° CSV å†™å…¥å‡½æ•° `write_metrics_to_csv` | 20min | T3.3.1 | âœ… |
| T3.3.4 | åˆ›å»º Celery å®šæ—¶ä»»åŠ¡ | 30min | T3.3.2, T3.3.3 | âŒ |
| T3.3.5 | æ›´æ–° Celery Beat é…ç½® | 15min | T3.3.4 | âŒ |
| T3.3.6 | æµ‹è¯•è·‘åˆ†è„šæœ¬ | 30min | T3.3.5 | âŒ |

#### å®ç°è¦ç‚¹

1. **æ¯æ—¥æŒ‡æ ‡æ¨¡å‹**ï¼ˆT3.3.1ï¼‰ï¼š
   ```python
   @dataclass
   class DailyMetrics:
       date: date
       cache_hit_rate: float
       valid_posts_24h: int
       total_communities: int
       duplicate_rate: float
       precision_at_50: float
       avg_score: float
   ```

2. **æŒ‡æ ‡æ”¶é›†**ï¼ˆT3.3.2ï¼‰ï¼š
   - ä» `crawl_metrics` è¡¨èšåˆå½“æ—¥æ•°æ®ï¼ˆæŒ‰ `metric_date` åˆ†ç»„ï¼‰
   - è®¡ç®— `duplicate_rate = total_duplicates / (total_new_posts + total_updated_posts + total_duplicates)`
   - è®¡ç®— `precision_at_50`ï¼ˆéœ€è¦æ ‡æ³¨æ•°æ®é›†ï¼‰

3. **CSV æ ¼å¼**ï¼ˆT3.3.3ï¼‰ï¼š
   - æ–‡ä»¶è·¯å¾„ï¼š`reports/daily_metrics/YYYY-MM.csv`
   - è¿½åŠ å†™å…¥ï¼ˆä¸è¦†ç›–ï¼‰
   - å­—æ®µï¼š`date,cache_hit_rate,valid_posts_24h,total_communities,duplicate_rate,precision_at_50,avg_score`

4. **Celery å®šæ—¶ä»»åŠ¡**ï¼ˆT3.3.4-T3.3.5ï¼‰ï¼š
   ```python
   @celery_app.task(name="tasks.metrics.generate_daily")
   def generate_daily_metrics_task():
       metrics = collect_daily_metrics()
       write_metrics_to_csv(metrics)
   
   # Celery Beat é…ç½®
   celery_app.conf.beat_schedule["generate-daily-metrics"] = {
       "task": "tasks.metrics.generate_daily",
       "schedule": crontab(hour=0, minute=0),  # æ¯æ—¥ 0 ç‚¹
   }
   ```

#### éªŒæ”¶æ ‡å‡†

- âœ… æ¯æ—¥è‡ªåŠ¨ç”ŸæˆæŠ¥å‘Šï¼ˆCelery Beat å®šæ—¶ä»»åŠ¡ï¼‰
- âœ… CSV æ ¼å¼æ­£ç¡®ï¼Œæ•°æ®å®Œæ•´
- âœ… æ‰‹åŠ¨è§¦å‘æµ‹è¯•é€šè¿‡

---

### T3.4: å®ç°çº¢çº¿æ£€æŸ¥é€»è¾‘

**ç›®æ ‡**: æ£€æŸ¥çº¢çº¿è§¦å‘æ¡ä»¶å¹¶è‡ªåŠ¨é™çº§  
**é¢„ä¼°æ—¶é—´**: 2 å°æ—¶  
**ä¾èµ–**: T3.3ï¼ˆæ¯æ—¥è·‘åˆ†ï¼‰  
**ä¼˜å…ˆçº§**: P1ï¼ˆè´¨é‡ä¿éšœï¼‰

#### å­ä»»åŠ¡

| ä»»åŠ¡ | æè¿° | é¢„ä¼°æ—¶é—´ | ä¾èµ– | å¯å¹¶è¡Œ |
|------|------|----------|------|--------|
| T3.4.1 | åˆ›å»ºçº¢çº¿é…ç½® `RedLineConfig` | 15min | - | âœ… |
| T3.4.2 | å®ç°çº¢çº¿æ£€æŸ¥å‡½æ•° `check_red_lines` | 20min | T3.4.1 | âŒ |
| T3.4.3 | å®ç°é™çº§ç­–ç•¥ 1ï¼ˆä¿å®ˆæ¨¡å¼ï¼‰ | 15min | T3.4.2 | âœ… |
| T3.4.4 | å®ç°é™çº§ç­–ç•¥ 2ï¼ˆæå‡æŠ“å–é¢‘ç‡ï¼‰ | 15min | T3.4.2 | âœ… |
| T3.4.5 | å®ç°é™çº§ç­–ç•¥ 3ï¼ˆæ”¹è¿›å»é‡ï¼‰ | 15min | T3.4.2 | âœ… |
| T3.4.6 | å®ç°é™çº§ç­–ç•¥ 4ï¼ˆæé«˜é˜ˆå€¼ï¼‰ | 15min | T3.4.2 | âœ… |
| T3.4.7 | é›†æˆçº¢çº¿æ£€æŸ¥åˆ°æ¯æ—¥è·‘åˆ† | 10min | T3.4.3-T3.4.6 | âŒ |
| T3.4.8 | æµ‹è¯•çº¢çº¿è§¦å‘ | 20min | T3.4.7 | âŒ |

#### å®ç°è¦ç‚¹

1. **çº¢çº¿é…ç½®**ï¼ˆT3.4.1ï¼‰ï¼š
   ```python
   @dataclass
   class RedLineConfig:
       min_valid_posts: int = 1500
       min_cache_hit_rate: float = 0.60
       max_duplicate_rate: float = 0.20
       min_precision_at_50: float = 0.60
   ```

2. **4 æ¡çº¢çº¿**ï¼š
   - **çº¢çº¿ 1**: `valid_posts_24h < 1500` â†’ æé«˜é˜ˆå€¼ +0.1ï¼ˆä¿å®ˆæ¨¡å¼ï¼‰
   - **çº¢çº¿ 2**: `cache_hit_rate < 60%` â†’ è§¦å‘è¡¥æŠ“ä»»åŠ¡ï¼ˆæå‡æŠ“å–é¢‘ç‡ï¼‰
   - **çº¢çº¿ 3**: `duplicate_rate > 20%` â†’ é™ä½ MinHash é˜ˆå€¼åˆ° 0.80ï¼ˆæ”¹è¿›å»é‡ï¼‰
   - **çº¢çº¿ 4**: `precision_at_50 < 0.6` â†’ é˜ˆå€¼ +0.05ï¼ˆæé«˜é˜ˆå€¼ï¼‰

3. **é™çº§ç­–ç•¥å®ç°**ï¼š
   ```python
   def check_red_lines(metrics: DailyMetrics) -> List[str]:
       """æ£€æŸ¥çº¢çº¿ï¼Œè¿”å›è§¦å‘çš„çº¢çº¿åˆ—è¡¨"""
       triggered = []
       
       if metrics.valid_posts_24h < 1500:
           triggered.append("RED_LINE_1: ä¿å®ˆæ¨¡å¼")
           # æé«˜é˜ˆå€¼ +0.1
           update_threshold(current_threshold + 0.1)
       
       if metrics.cache_hit_rate < 0.60:
           triggered.append("RED_LINE_2: æå‡æŠ“å–é¢‘ç‡")
           # è§¦å‘è¡¥æŠ“ä»»åŠ¡
           trigger_è¡¥æŠ“_task()
       
       # ... å…¶ä»–çº¢çº¿
       
       return triggered
   ```

#### éªŒæ”¶æ ‡å‡†

- âœ… çº¢çº¿è§¦å‘è‡ªåŠ¨é™çº§
- âœ… é™çº§ç­–ç•¥ç”Ÿæ•ˆï¼ˆæ—¥å¿—è®°å½•ï¼‰
- âœ… æµ‹è¯•è¦†ç›– 4 æ¡çº¢çº¿

---

### T3.5: æ”¹é€ æŠ¥å‘Šæ¨¡ç‰ˆ

**ç›®æ ‡**: æ·»åŠ è¡ŒåŠ¨ä½åˆ°æŠ¥å‘Šæ¨¡ç‰ˆ  
**é¢„ä¼°æ—¶é—´**: 3 å°æ—¶  
**ä¾èµ–**: T2.10ï¼ˆå»é‡é›†æˆï¼‰  
**ä¼˜å…ˆçº§**: P1ï¼ˆäº§å“ä»·å€¼ï¼‰

#### å­ä»»åŠ¡

| ä»»åŠ¡ | æè¿° | é¢„ä¼°æ—¶é—´ | ä¾èµ– | å¯å¹¶è¡Œ |
|------|------|----------|------|--------|
| T3.5.1 | åˆ›å»º `OpportunityReport` æ•°æ®ç±» | 15min | - | âœ… |
| T3.5.2 | å®ç° `problem_definition` æå– | 20min | T3.5.1 | âŒ |
| T3.5.3 | å®ç° `evidence_chain` æ„å»º | 25min | T3.5.1 | âœ… |
| T3.5.4 | å®ç° `suggested_actions` ç”Ÿæˆ | 20min | T3.5.2 | âŒ |
| T3.5.5 | å®ç°è¯„åˆ†å‡½æ•°ï¼ˆconfidence/urgency/product_fitï¼‰ | 30min | T3.5.1 | âœ… |
| T3.5.6 | å®ç° `priority` è®¡ç®— | 10min | T3.5.5 | âŒ |
| T3.5.7 | æ›´æ–° `AnalysisResult` ç»“æ„ | 15min | T3.5.1-T3.5.6 | âŒ |
| T3.5.8 | æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ | 25min | T3.5.7 | âŒ |

#### å®ç°è¦ç‚¹

1. **OpportunityReport æ•°æ®ç±»**ï¼ˆT3.5.1ï¼‰ï¼š
   ```python
   @dataclass
   class OpportunityReport:
       problem_definition: str
       evidence_chain: List[Dict[str, Any]]  # 2-3 æ¡è¯æ®
       suggested_actions: List[str]
       confidence: float  # 0-1
       urgency: float  # 0-1
       product_fit: float  # 0-1
       priority: float  # confidence Ã— urgency Ã— product_fit
   ```

2. **problem_definition æå–**ï¼ˆT3.5.2ï¼‰ï¼š
   - ä»æœºä¼šä¿¡å·çš„ `summary` å­—æ®µæå–
   - æ¨¡æ¿ï¼š`"ç”¨æˆ·éœ€è¦ {åŠŸèƒ½}ï¼Œä½†ç°æœ‰æ–¹æ¡ˆ {ç—›ç‚¹}"`

3. **evidence_chain æ„å»º**ï¼ˆT3.5.3ï¼‰ï¼š
   - é€‰æ‹© Top 2-3 æ¡æœ€ç›¸å…³çš„å¸–å­
   - å­—æ®µï¼š`post_id`, `title`, `url`, `score`, `snippet`

4. **suggested_actions ç”Ÿæˆ**ï¼ˆT3.5.4ï¼‰ï¼š
   - æ¨¡æ¿åŒ–å»ºè®®ï¼š
     - "è°ƒç ”ç”¨æˆ·éœ€æ±‚ï¼š{problem_definition}"
     - "éªŒè¯å¸‚åœºè§„æ¨¡ï¼šçº¦ {potential_users} ä¸ªæ½œåœ¨ç”¨æˆ·"
     - "è®¾è®¡ MVPï¼š{åŠŸèƒ½} çš„æœ€å°å¯è¡Œäº§å“"

5. **è¯„åˆ†å‡½æ•°**ï¼ˆT3.5.5ï¼‰ï¼š
   - `confidence`: åŸºäºä¿¡å·å¼ºåº¦ï¼ˆå…³é”®è¯åŒ¹é…åº¦ã€åˆ†æ•°ï¼‰
   - `urgency`: åŸºäºæ—¶é—´å…³é”®è¯ï¼ˆurgent, asap, nowï¼‰
   - `product_fit`: åŸºäºäº§å“ç›¸å…³æ€§ï¼ˆå…³é”®è¯åŒ¹é…åº¦ï¼‰

#### éªŒæ”¶æ ‡å‡†

- âœ… æŠ¥å‘ŠåŒ…å«è¡ŒåŠ¨ä½ï¼ˆproblem_definition, evidence_chain, suggested_actionsï¼‰
- âœ… ä¼˜å…ˆçº§è®¡ç®—æ­£ç¡®ï¼ˆpriority = confidence Ã— urgency Ã— product_fitï¼‰
- âœ… æµ‹è¯•è¦†ç›–æ‰€æœ‰å­—æ®µ

---

### T3.6: é›†æˆè¡ŒåŠ¨ä½åˆ° API

**ç›®æ ‡**: åœ¨ API å’Œå‰ç«¯å±•ç¤ºè¡ŒåŠ¨ä½  
**é¢„ä¼°æ—¶é—´**: 2 å°æ—¶  
**ä¾èµ–**: T3.5ï¼ˆæŠ¥å‘Šæ¨¡ç‰ˆï¼‰  
**ä¼˜å…ˆçº§**: P1ï¼ˆå‰åç«¯é›†æˆï¼‰

#### å­ä»»åŠ¡

| ä»»åŠ¡ | æè¿° | é¢„ä¼°æ—¶é—´ | ä¾èµ– | å¯å¹¶è¡Œ |
|------|------|----------|------|--------|
| T3.6.1 | æ›´æ–° `AnalysisResult` Schema | 15min | T3.5 | âŒ |
| T3.6.2 | æ›´æ–° `/analyze` API å“åº” | 15min | T3.6.1 | âŒ |
| T3.6.3 | å‰ç«¯ï¼šåˆ›å»º `ActionItem` ç»„ä»¶ | 30min | T3.6.2 | âŒ |
| T3.6.4 | å‰ç«¯ï¼šå®ç°è¯æ®é“¾é“¾æ¥ | 15min | T3.6.3 | âŒ |
| T3.6.5 | å‰ç«¯ï¼šå®ç°ä¼˜å…ˆçº§æ˜Ÿçº§å±•ç¤º | 15min | T3.6.3 | âœ… |
| T3.6.6 | å‰ç«¯ï¼šé›†æˆåˆ°åˆ†æç»“æœé¡µé¢ | 15min | T3.6.3-T3.6.5 | âŒ |
| T3.6.7 | æµ‹è¯•å‰åç«¯é›†æˆ | 15min | T3.6.6 | âŒ |

#### å®ç°è¦ç‚¹

1. **API Schema æ›´æ–°**ï¼ˆT3.6.1ï¼‰ï¼š
   ```python
   class AnalysisResultSchema(BaseModel):
       insights: Dict[str, List[Dict[str, Any]]]
       sources: Dict[str, Any]
       report_html: str
       action_items: List[OpportunityReportSchema]  # æ–°å¢
   ```

2. **å‰ç«¯ ActionItem ç»„ä»¶**ï¼ˆT3.6.3ï¼‰ï¼š
   ```tsx
   interface ActionItemProps {
       problemDefinition: string;
       evidenceChain: Evidence[];
       suggestedActions: string[];
       priority: number;
   }
   
   const ActionItem: React.FC<ActionItemProps> = ({ ... }) => {
       return (
           <Card>
               <h3>{problemDefinition}</h3>
               <EvidenceChain items={evidenceChain} />
               <ActionList actions={suggestedActions} />
               <PriorityStars value={priority} />
           </Card>
       );
   };
   ```

3. **ä¼˜å…ˆçº§æ˜Ÿçº§å±•ç¤º**ï¼ˆT3.6.5ï¼‰ï¼š
   - 5 æ˜Ÿåˆ¶ï¼š`priority âˆˆ [0, 1]` â†’ `stars âˆˆ [0, 5]`
   - æ˜ å°„ï¼š`stars = Math.round(priority * 5)`

#### éªŒæ”¶æ ‡å‡†

- âœ… API è¿”å› `action_items` å­—æ®µ
- âœ… å‰ç«¯æ­£ç¡®å±•ç¤ºé—®é¢˜å®šä¹‰ã€è¯æ®é“¾ã€å»ºè®®åŠ¨ä½œã€ä¼˜å…ˆçº§
- âœ… è¯æ®é“¾å¯ç‚¹å‡»è·³è½¬åˆ° Reddit åŸå¸–

---

## ğŸ“Š æ‰§è¡Œé¡ºåºä¸å¹¶è¡Œç­–ç•¥

### ä¸²è¡Œä»»åŠ¡ï¼ˆå¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œï¼‰

1. **T3.1 â†’ T3.2**ï¼šæ ‡æ³¨æ•°æ®é›† â†’ é˜ˆå€¼ä¼˜åŒ–
2. **T3.3 â†’ T3.4**ï¼šæ¯æ—¥è·‘åˆ† â†’ çº¢çº¿æ£€æŸ¥
3. **T3.5 â†’ T3.6**ï¼šæŠ¥å‘Šæ¨¡ç‰ˆ â†’ API é›†æˆ

### å¯å¹¶è¡Œä»»åŠ¡

- **T3.1 + T3.3**ï¼šæ ‡æ³¨æ•°æ®é›† + æ¯æ—¥è·‘åˆ†ï¼ˆæ— ä¾èµ–ï¼‰
- **T3.1 + T3.5**ï¼šæ ‡æ³¨æ•°æ®é›† + æŠ¥å‘Šæ¨¡ç‰ˆï¼ˆæ— ä¾èµ–ï¼‰
- **T3.3 + T3.5**ï¼šæ¯æ—¥è·‘åˆ† + æŠ¥å‘Šæ¨¡ç‰ˆï¼ˆæ— ä¾èµ–ï¼‰

### æ¨èæ‰§è¡Œé¡ºåº

```
Day 1: T3.1 (æŠ½æ ·æ ‡æ³¨) + T3.3 (æ¯æ—¥è·‘åˆ†)
Day 2: T3.1.5 (ç”¨æˆ·æ ‡æ³¨ï¼Œ3h) + T3.5 (æŠ¥å‘Šæ¨¡ç‰ˆ)
Day 3: T3.2 (é˜ˆå€¼ä¼˜åŒ–) + T3.4 (çº¢çº¿æ£€æŸ¥)
Day 4: T3.6 (API é›†æˆ) + æµ‹è¯•
```

---

## âœ… éªŒæ”¶æ ‡å‡†æ€»ç»“

| ä»»åŠ¡ | éªŒæ”¶æ ‡å‡† |
|------|----------|
| T3.1 | 500 æ¡æ ·æœ¬å·²æ ‡æ³¨ï¼Œæ•°æ®ä¿å­˜æˆåŠŸ |
| T3.2 | æœ€ä¼˜é˜ˆå€¼ Precision@50 â‰¥0.6ï¼Œé…ç½®æ–‡ä»¶å·²æ›´æ–° |
| T3.3 | æ¯æ—¥è‡ªåŠ¨ç”ŸæˆæŠ¥å‘Šï¼ŒCSV æ ¼å¼æ­£ç¡® |
| T3.4 | çº¢çº¿è§¦å‘è‡ªåŠ¨é™çº§ï¼Œé™çº§ç­–ç•¥ç”Ÿæ•ˆ |
| T3.5 | æŠ¥å‘ŠåŒ…å«è¡ŒåŠ¨ä½ï¼Œä¼˜å…ˆçº§è®¡ç®—æ­£ç¡® |
| T3.6 | API è¿”å›è¡ŒåŠ¨ä½ï¼Œå‰ç«¯æ­£ç¡®å±•ç¤º |

---

## ğŸš€ ä¸‹ä¸€æ­¥

Phase 3 å®Œæˆåï¼Œè¿›å…¥ **Phase 4: è¿­ä»£ä¸å»¶ä¼¸**ï¼ˆT4.1-T4.3ï¼‰ï¼š
- T4.1: ç”Ÿæˆä¸¤å‘¨è¿­ä»£æ€»ç»“
- T4.2: å®ç°è½»é‡ NERï¼ˆspaCyï¼‰
- T4.3: å®ç°è¶‹åŠ¿åˆ†æï¼ˆ7/14/30 å¤©ï¼‰

