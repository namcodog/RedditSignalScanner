# 📋 Day 12 手动验收测试指南

**日期**: 2025-10-13  
**目的**: 手动验证前端 UI 与参考网站的一致性  
**参考网站**: https://v0-reddit-business-signals.vercel.app  
**本地环境**: http://localhost:3006

---

## 🔑 测试账号信息

```
用户名: TestUser
邮箱:   test@redditscanner.com
密码:   Test123456!
用户ID: 11111111-2222-3333-4444-555555555555
```

**已创建的测试任务**：
- 任务ID: `f9765318-d486-4588-a48d-22d4c5414428`
- 产品描述: 一款专为自由职业者设计的时间追踪和发票管理工具
- 状态: 分析中/已完成（取决于 Celery 执行进度）

---

## 🚀 前置准备

### 1. 确保所有服务正在运行

```bash
# 检查服务状态
make status

# 或者使用黄金路径一键启动
make dev-golden-path
```

**必须运行的服务**：
- ✅ Redis (端口 6379)
- ✅ Celery Worker
- ✅ Backend (端口 8006)
- ✅ Frontend (端口 3006)

### 2. 验证服务可访问

```bash
# 检查 Redis
redis-cli ping
# 应返回: PONG

# 检查后端
curl http://localhost:8006/
# 应返回: {"message":"Reddit Signal Scanner API"}

# 检查前端
curl http://localhost:3006/
# 应返回: HTML 内容
```

---

## 📝 手动验证步骤

### 测试场景 1: 首页验证

**访问**: http://localhost:3006/

**验证点**：
1. ✅ **Header 区域**
   - [ ] 显示 "Reddit 商业信号扫描器" 标题
   - [ ] 右上角有 "登录" 和 "注册" 按钮
   - [ ] 按钮样式：登录（边框按钮），注册（主色按钮）

2. ✅ **产品描述输入区**
   - [ ] 有产品描述文本框
   - [ ] 显示字数统计（0 字 → 输入后显示实际字数）
   - [ ] 最少 10 字提示
   - [ ] "开始 5 分钟分析" 按钮（少于 10 字时禁用）

3. ✅ **示例区域**
   - [ ] 显示 3 个示例按钮
   - [ ] 点击示例可自动填充产品描述

4. ✅ **步骤说明**
   - [ ] 显示 3 个步骤：分析、处理、洞察

**对比参考**：
- 打开参考网站首页
- 逐项对比布局、颜色、字体、间距

---

### 测试场景 2: 报告页面 - 概览 Tab

**访问**: http://localhost:3006/report/f9765318-d486-4588-a48d-22d4c5414428

**验证点**：

1. ✅ **Header 区域**
   - [ ] 显示 "Reddit 商业信号扫描器" 标题
   - [ ] 显示 "市场洞察报告" 副标题
   - [ ] 右上角有 "登录" 和 "注册" 按钮

2. ✅ **报告头部**
   - [ ] 显示 "分析已完成 • 已分析 X 条提及"
   - [ ] 有 "分享"、"导出PDF"、"开始新分析" 按钮

3. ✅ **产品描述卡片**
   - [ ] 显示 "已分析产品" 标题
   - [ ] 显示完整产品描述

4. ✅ **统计卡片**（4 个）
   - [ ] 总提及数
   - [ ] 正面情感百分比
   - [ ] 社区数量
   - [ ] 商业机会数量

5. ✅ **Tab 导航**
   - [ ] 4 个 Tab：概览、用户痛点、竞品分析、商业机会
   - [ ] **无图标**（这是关键验证点！）
   - [ ] Tab 样式：灰色背景容器，激活 Tab 白色背景带阴影
   - [ ] Tab 切换流畅

6. ✅ **概览 Tab 内容**
   - [ ] **市场情感** 卡片
     - 正面、负面、中性百分比
     - 使用进度条或饼图展示
   
   - [ ] **热门社区** 卡片
     - 至少 5 个社区
     - 每个社区显示：名称、成员数、相关性百分比
     - 成员数格式化（如 1,200,000）

7. ✅ **无分析元数据卡片**
   - [ ] **确认页面底部没有** "分析元数据" 卡片
   - [ ] 这是关键验证点！参考网站没有这个卡片

**对比参考**：
```
参考网站: https://v0-reddit-business-signals.vercel.app
本地实现: http://localhost:3006/report/f9765318-d486-4588-a48d-22d4c5414428
```

**对比要点**：
- Tab 样式是否一致（无图标、背景色、激活状态）
- 热门社区是否显示成员数
- 是否没有分析元数据卡片

---

### 测试场景 3: 报告页面 - 用户痛点 Tab

**操作**: 点击 "用户痛点" Tab

**验证点**：

1. ✅ **痛点卡片结构**
   - [ ] 每个痛点一个卡片
   - [ ] 卡片有 hover 阴影效果

2. ✅ **痛点标题和标签**
   - [ ] 显示痛点描述作为标题
   - [ ] **显示严重程度标签**（高/中/低）
     - 高：红色背景
     - 中：黄色背景
     - 低：绿色背景
   - [ ] 显示提及次数（X 条帖子提及）

3. ✅ **用户示例**
   - [ ] 显示 "用户示例：" 标题
   - [ ] 至少 1-3 条用户引用
   - [ ] 引用文本带引号，灰色背景

**对比参考**：
- 参考网站的用户痛点 Tab
- 确认严重程度标签和用户示例都存在

---

### 测试场景 4: 报告页面 - 竞品分析 Tab

**操作**: 点击 "竞品分析" Tab

**验证点**：

1. ✅ **竞品卡片结构**
   - [ ] 每个竞品一个卡片
   - [ ] 左侧圆形图标（首字母）

2. ✅ **竞品信息**
   - [ ] 显示竞品名称
   - [ ] 显示提及次数
   - [ ] **显示市场份额百分比**（大号蓝色文字）
     - 例如：19% 市场份额
     - 这是关键验证点！

3. ✅ **优势和劣势**
   - [ ] 优势列表（绿色圆点）
   - [ ] 劣势列表（红色圆点）

**对比参考**：
- 参考网站的竞品分析 Tab
- 确认市场份额以大号蓝色文字显示

---

### 测试场景 5: 报告页面 - 商业机会 Tab

**操作**: 点击 "商业机会" Tab

**验证点**：

1. ✅ **机会卡片结构**
   - [ ] 每个机会一个卡片
   - [ ] 显示机会标题

2. ✅ **机会描述**
   - [ ] 显示完整描述

3. ✅ **关键洞察**
   - [ ] 显示 "关键洞察：" 标题
   - [ ] 至少 2-4 条洞察
   - [ ] 每条洞察前有蓝色圆点
   - [ ] 这是关键验证点！

**对比参考**：
- 参考网站的商业机会 Tab
- 确认关键洞察列表存在

---

## 🎯 关键验证点总结

### P0 必须验证（阻塞发布）

| # | 验证点 | 位置 | 预期结果 |
|---|--------|------|----------|
| 1 | Tab 无图标 | 报告页面 | ✅ 4 个 Tab 都没有图标 |
| 2 | 登录/注册按钮 | Header | ✅ 右上角显示两个按钮 |
| 3 | 无元数据卡片 | 报告页面底部 | ✅ 没有 "分析元数据" 卡片 |
| 4 | 严重程度标签 | 用户痛点 Tab | ✅ 显示高/中/低标签 |
| 5 | 用户示例 | 用户痛点 Tab | ✅ 显示用户引用 |
| 6 | 市场份额 | 竞品分析 Tab | ✅ 显示百分比（大号蓝色） |
| 7 | 关键洞察 | 商业机会 Tab | ✅ 显示洞察列表 |
| 8 | 热门社区成员数 | 概览 Tab | ✅ 显示格式化的成员数 |

### P1 重要验证（影响体验）

| # | 验证点 | 位置 | 预期结果 |
|---|--------|------|----------|
| 9 | Tab 样式 | 报告页面 | ✅ 灰色容器，激活白色带阴影 |
| 10 | 卡片 hover | 所有卡片 | ✅ hover 时显示阴影 |
| 11 | 按钮样式 | 全局 | ✅ 主按钮蓝色，次按钮边框 |

---

## 📸 截图对比建议

建议截取以下页面进行对比：

1. **首页**
   - 参考网站首页
   - 本地首页

2. **报告页面 - 概览 Tab**
   - 参考网站概览
   - 本地概览
   - 重点对比：Tab 样式、热门社区

3. **报告页面 - 用户痛点 Tab**
   - 参考网站用户痛点
   - 本地用户痛点
   - 重点对比：严重程度标签、用户示例

4. **报告页面 - 竞品分析 Tab**
   - 参考网站竞品分析
   - 本地竞品分析
   - 重点对比：市场份额显示

5. **报告页面 - 商业机会 Tab**
   - 参考网站商业机会
   - 本地商业机会
   - 重点对比：关键洞察列表

---

## 🐛 常见问题排查

### 问题 1: 报告页面显示 "获取报告失败"

**原因**: 任务还在分析中或 Celery Worker 未运行

**解决**:
```bash
# 检查 Celery 日志
tail -f /tmp/celery_worker.log

# 等待 5-10 秒后刷新页面
```

### 问题 2: 登录/注册按钮不显示

**原因**: 前端代码未更新

**解决**:
```bash
# 重启前端服务
make kill-frontend-port
make dev-frontend
```

### 问题 3: Tab 还有图标

**原因**: 浏览器缓存

**解决**:
- 硬刷新：Cmd+Shift+R (Mac) 或 Ctrl+Shift+R (Windows)
- 或清除浏览器缓存

### 问题 4: 数据字段缺失

**原因**: 后端数据结构未更新

**解决**:
```bash
# 检查后端日志
tail -f /tmp/backend_uvicorn.log

# 重启后端
make kill-backend-port
make dev-backend
```

---

## ✅ 验收标准

**通过条件**:
- ✅ 所有 P0 验证点通过（8/8）
- ✅ 至少 80% P1 验证点通过（2/3）
- ✅ 视觉一致性达到 90%+

**不通过条件**:
- ❌ 任何 P0 验证点失败
- ❌ 视觉一致性低于 80%

---

## 📞 联系方式

如有问题，请查看：
- Celery 日志: `/tmp/celery_worker.log`
- Backend 日志: `/tmp/backend_uvicorn.log`
- Frontend 日志: `/tmp/frontend_vite.log`

或参考文档：
- `DAY12-END-TO-END-ACCEPTANCE-REPORT.md`
- `DAY12-GOLDEN-PATH-SUCCESS.md`

