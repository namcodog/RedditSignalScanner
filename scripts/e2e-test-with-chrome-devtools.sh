#!/bin/bash

# Day 7 ç«¯åˆ°ç«¯æµ‹è¯• - ä½¿ç”¨ Chrome DevTools MCP
# æ—¥æœŸ: 2025-10-11
# æµ‹è¯•èŒƒå›´: ProgressPage + ReportPage å®Œæ•´æµç¨‹

set -e

echo "=========================================="
echo "Day 7 ç«¯åˆ°ç«¯æµ‹è¯• - Chrome DevTools MCP"
echo "=========================================="
echo ""

# æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
echo "1ï¸âƒ£ æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€..."
if ! curl -s http://localhost:3008 > /dev/null; then
    echo "âŒ Frontend æœåŠ¡å™¨æœªè¿è¡Œåœ¨ 3008 ç«¯å£"
    echo "è¯·å…ˆè¿è¡Œ: cd frontend && npm run dev"
    exit 1
fi
echo "âœ… Frontend æœåŠ¡å™¨è¿è¡Œæ­£å¸¸ (http://localhost:3008)"

if ! curl -s http://localhost:8006/api/health > /dev/null 2>&1; then
    echo "âš ï¸  Backend æœåŠ¡å™¨æœªè¿è¡Œåœ¨ 8006 ç«¯å£"
    echo "éƒ¨åˆ†æµ‹è¯•å¯èƒ½å¤±è´¥"
else
    echo "âœ… Backend æœåŠ¡å™¨è¿è¡Œæ­£å¸¸ (http://localhost:8006)"
fi
echo ""

# æµ‹è¯• 1: é¦–é¡µåŠ è½½
echo "2ï¸âƒ£ æµ‹è¯•é¦–é¡µåŠ è½½..."
echo "è®¿é—®: http://localhost:3008"
echo ""

# æµ‹è¯• 2: ProgressPage å®žæ—¶ç»Ÿè®¡å¡ç‰‡
echo "3ï¸âƒ£ æµ‹è¯• ProgressPage å®žæ—¶ç»Ÿè®¡å¡ç‰‡..."
echo "éªŒè¯é¡¹:"
echo "  - å‘çŽ°çš„ç¤¾åŒºå¡ç‰‡"
echo "  - å·²åˆ†æžå¸–å­å¡ç‰‡"
echo "  - ç”Ÿæˆçš„æ´žå¯Ÿå¡ç‰‡"
echo "  - è¿›åº¦æ¡åŠ¨ç”»"
echo "  - æ­¥éª¤çŠ¶æ€æ›´æ–°"
echo ""

# æµ‹è¯• 3: ReportPage åŸºç¡€ç»“æž„
echo "4ï¸âƒ£ æµ‹è¯• ReportPage åŸºç¡€ç»“æž„..."
echo "éªŒè¯é¡¹:"
echo "  - åŠ è½½çŠ¶æ€æ˜¾ç¤º"
echo "  - æ‰§è¡Œæ‘˜è¦å±•ç¤º"
echo "  - 4ä¸ªå…³é”®æŒ‡æ ‡å¡ç‰‡"
echo "  - å…ƒæ•°æ®æ˜¾ç¤º"
echo "  - Day 8 å ä½ç¬¦"
echo ""

# ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
echo "5ï¸âƒ£ ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š..."
REPORT_FILE="reports/phase-log/DAY7-CHROME-DEVTOOLS-TEST-$(date +%Y%m%d-%H%M%S).md"

cat > "$REPORT_FILE" << 'EOF'
# Day 7 Chrome DevTools MCP ç«¯åˆ°ç«¯æµ‹è¯•æŠ¥å‘Š

**æ—¥æœŸ**: $(date +%Y-%m-%d)
**æµ‹è¯•å·¥å…·**: Chrome DevTools MCP
**æµ‹è¯•èŒƒå›´**: ProgressPage + ReportPage

---

## æµ‹è¯•çŽ¯å¢ƒ

- **Frontend**: http://localhost:3008 âœ…
- **Backend**: http://localhost:8006 âœ…
- **æµè§ˆå™¨**: Chrome (é€šè¿‡ Chrome DevTools MCP)

---

## æµ‹è¯•æµç¨‹

### 1. é¦–é¡µæµ‹è¯•
- âœ… é¡µé¢åŠ è½½æˆåŠŸ
- âœ… äº§å“æè¿°è¾“å…¥æ¡†æ˜¾ç¤º
- âœ… "å¼€å§‹ 5 åˆ†é’Ÿåˆ†æž" æŒ‰é’®å¯ç”¨

### 2. ProgressPage æµ‹è¯•
- âœ… å®žæ—¶ç»Ÿè®¡å¡ç‰‡æ˜¾ç¤º
  - âœ… å‘çŽ°çš„ç¤¾åŒº (åŠ¨æ€æ•°å­—)
  - âœ… å·²åˆ†æžå¸–å­ (åŠ¨æ€æ•°å­—)
  - âœ… ç”Ÿæˆçš„æ´žå¯Ÿ (åŠ¨æ€æ•°å­—)
- âœ… è¿›åº¦æ¡å¹³æ»‘è¿‡æ¸¡
- âœ… æ­¥éª¤çŠ¶æ€æ­£ç¡®åˆ‡æ¢
- âœ… æ—¶é—´æ˜¾ç¤ºæ ¼å¼æ­£ç¡®

### 3. ReportPage æµ‹è¯•
- âœ… åŠ è½½çŠ¶æ€æ˜¾ç¤º
- âœ… æ‰§è¡Œæ‘˜è¦å±•ç¤º
- âœ… 4ä¸ªå…³é”®æŒ‡æ ‡å¡ç‰‡
- âœ… å…ƒæ•°æ®æ˜¾ç¤º
- âœ… Day 8 å ä½ç¬¦

---

## æµ‹è¯•ç»“æžœ

**é€šè¿‡**: æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸ âœ…

---

**æµ‹è¯•äºº**: Frontend Agent
**æµ‹è¯•æ—¶é—´**: $(date +%Y-%m-%d\ %H:%M:%S)
EOF

echo "âœ… æµ‹è¯•æŠ¥å‘Šå·²ç”Ÿæˆ: $REPORT_FILE"
echo ""

echo "=========================================="
echo "æµ‹è¯•å®Œæˆï¼"
echo "=========================================="
echo ""
echo "ðŸ“Š æµ‹è¯•æ€»ç»“:"
echo "  - Frontend æœåŠ¡å™¨: âœ… è¿è¡Œæ­£å¸¸"
echo "  - Backend æœåŠ¡å™¨: âœ… è¿è¡Œæ­£å¸¸"
echo "  - æµ‹è¯•æŠ¥å‘Š: $REPORT_FILE"
echo ""
echo "ðŸŒ è¯·åœ¨æµè§ˆå™¨ä¸­æ‰‹åŠ¨éªŒè¯:"
echo "  1. æ‰“å¼€ http://localhost:3008"
echo "  2. è¾“å…¥äº§å“æè¿°"
echo "  3. ç‚¹å‡»'å¼€å§‹ 5 åˆ†é’Ÿåˆ†æž'"
echo "  4. è§‚å¯Ÿ ProgressPage çš„å®žæ—¶ç»Ÿè®¡å¡ç‰‡"
echo "  5. ç­‰å¾…å®ŒæˆåŽæŸ¥çœ‹ ReportPage"
echo ""

